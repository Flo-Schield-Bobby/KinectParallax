<!DOCTYPE html>
<!--[if lt IE 7]>      <html class='no-js lt-ie9 lt-ie8 lt-ie7'> <![endif]-->
<!--[if IE 7]>         <html class='no-js lt-ie9 lt-ie8'> <![endif]-->
<!--[if IE 8]>         <html class='no-js lt-ie9'> <![endif]-->
<!--[if gt IE 8]><!--> <html class='no-js'> <!--<![endif]-->
	<head>
		<meta charset='utf-8'>
		<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
		<title>Kinect Parallax Prototype</title>
		<meta name='keywords' content='Kinect, Parallax, JavaScript, xBox Kinect, Kinect for windows'>
		<meta name='description' content='A JavaScript parallax effect prototype based on Kinect events, using Zigfu library.'>
		<meta name='author' content='Florent SCHILDKNECHT'>
		<meta name='viewport' content='width=device-width'>
		<link rel='stylesheet' href='assets/css/normalize.css'>
		<link rel='stylesheet' href='assets/css/jquery.kinect-parallax-1.0.0.min.css'>
		<link rel='stylesheet' href='assets/css/app.min.css'>
		<script src='assets/js/vendor/modernizr-2.6.2.min.js'></script>
	</head>
	<body>
		<header id='app-header'>
			<h1 id='app-name'>Kinect-based Parallax Prototype</h1>
		</header>
		<!-- #kinect-parallax is our viewport -->
		<div id='kinect-parallax' class='kinect-parallax-viewport'>
			<!-- .kinect-parallax-laery are our layers, just set them a width, a height, and a z-index ! -->
			<div id='kinect-parallax-layer-1' class='kinect-parallax-layer'>
				<img src='assets/images/0_sun.png' alt='Sun'>
			</div>
			<div id='kinect-parallax-layer-2' class='kinect-parallax-layer'>
				<img src='assets/images/1_mountains.png' alt='Moutains'>
			</div>
			<div id='kinect-parallax-layer-3' class='kinect-parallax-layer'>
				<img src='assets/images/2_hill.png' alt='Hill'>
			</div>
			<div id='kinect-parallax-layer-4' class='kinect-parallax-layer'>
				<img src='assets/images/3_wood.png' alt='Wood'>
			</div>
		</div>
		<div id='debug'>
			<div>Kinect Position X: <span id='kinect-x'>0</span></div>
			<div>Kinect Position Y: <span id='kinect-y'>0</span></div>
			<div>Kinect Position Z: <span id='kinect-z'>0</span></div>
		</div>
		<script src='http://code.jquery.com/jquery-latest.min.js'></script>
		<script>window.jQuery || document.write('<script src=\'assets/js/vendor/jquery-1.9.1.min.js\'><\/script>')</script>
		<script src='assets/js/vendor/jquery.kinect-parallax.js'></script>
		<script src='assets/js/plugins.js'></script>
		<script src='assets/js/vendor/zigfu.min.js'></script>
		<script src='assets/js/app.js'></script>
		<script>
			jQuery(document).ready(function() {
				var $viewport = jQuery('#kinect-parallax'),
					$layers = jQuery('#kinect-parallax .kinect-parallax-layer').KinectParallax('init', {
					'viewport': $viewport,
					'axisXAllowed': true,
					'axisYAllowed': true,
					'axisZ': 100
				});
				jQuery(this).on('headstart', function (e, position) {
					$layers.KinectParallax('start', position);
				});
				jQuery(this).on('headstop', function (e) {
					$layers.KinectParallax('stop');
				});
				jQuery(this).on('headmove', function (e, position) {
					$layers.KinectParallax('move', position);
				});
				/*
				$viewport.on('mouseenter', function (e) {
					console.log('mouseenter');
					$layers.KinectParallax('start');
				});
				$viewport.on('mouseleave', function (e) {
					console.log('mouseleave');
					$layers.KinectParallax('stop');
				});
				$viewport.on('mousemove', function (e) {
					console.log('mousemove');
					$layers.KinectParallax('move', {
						'x': e.pageX,
						'y': e.pageY
					});
				});
				*/
			});
		</script>
	</body>
</html>